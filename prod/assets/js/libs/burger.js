"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);var n=i.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuToggler=void 0;var MenuToggler=exports.MenuToggler=function(){return _createClass(function e(t){var i,n,s,r,o,a;_classCallCheck(this,e),this.type=null!==(i=t.type)&&void 0!==i?i:"appear",this.transitionTime=null!==(n=t.transitionTime)&&void 0!==n?n:".25s",this.transitionType=null!==(s=t.transitionType)&&void 0!==s?s:".ease",this.menuDisplay=null!==(r=t.menuDisplay)&&void 0!==r?r:"block",this.slideBegin=null!==(o=t.slideBegin)&&void 0!==o?o:"translate(-100%, 0px)",this.slideEnd=null!==(a=t.slideEnd)&&void 0!==a?a:"translate(0px, 0px)",this.menuTriggerSelector=t.menuTriggerSelector,this.menuSelector=t.menuSelector,this.menuTrigger=document.querySelector(this.menuTriggerSelector),this.menu=document.querySelector(this.menuSelector),this.isChanging=!1,this.state="hide",this.init()},[{key:"init",value:function(){var t=this;this.menuTrigger.addEventListener("click",this.toggle.bind(this)),"appear"===this.type&&(this.menu.style.opacity=0,this.menu.style.display="none",this.menu.addEventListener("transitionend",function(e){e.target===t.menu&&(t.isChanging=!1,"hide"===t.state&&(t.menu.style.display="none"))})),"slide"===this.type&&(document.body.style.overflowX="hidden",this.setVendorStyleProperty(this.menu,"transform",this.slideBegin),setTimeout(function(){t.setVendorStyleProperty(t.menu,"transition","transform ".concat(t.transitionTime," ").concat(t.transitionType))},1))}},{key:"setVendorStyleProperty",value:function(e,t,i){for(var n=0,s=["webkit","moz","ms","o"];n<s.length;n++){var r=s[n];e.style["".concat(r).concat(t)]=i}e.style[t]=i}},{key:"toggle",value:function(){var e=this;if("appear"===this.type&&!this.isChanging){if("1"===this.menu.style.opacity)return this.setVendorStyleProperty(this.menu,"transition","opacity ".concat(this.transitionTime," ").concat(this.transitionType)),this.menuTrigger.classList.contains("burger")&&this.menuTrigger.classList.remove("burger_close"),this.state="hide",this.menu.style.opacity="0",void(this.isChanging=!0);if("0"===this.menu.style.opacity)return this.menuTrigger.classList.contains("burger")&&this.menuTrigger.classList.add("burger_close"),this.state="show",this.menu.style.display=this.menuDisplay,void setTimeout(function(){e.setVendorStyleProperty(e.menu,"transition","opacity ".concat(e.transitionTime," ").concat(e.transitionType)),e.menu.style.height="initial",e.menu.style.opacity="1",e.isChanging=!0},1)}"slide"!==this.type||this.isChanging||(this.menu.style.transform===this.slideBegin?(this.menuTrigger.classList.contains("burger")&&this.menuTrigger.classList.add("burger_close"),this.setVendorStyleProperty(this.menu,"transform",this.slideEnd),this.menu.style.transform=this.slideEnd):(this.menuTrigger.classList.contains("burger")&&this.menuTrigger.classList.remove("burger_close"),this.setVendorStyleProperty(this.menu,"transform",this.slideBegin),this.menu.style.transform=this.slideBegin))}}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnMvYnVyZ2VyLmpzIl0sIm5hbWVzIjpbIk1lbnVUb2dnbGVyIiwiZXhwb3J0cyIsIl9jcmVhdGVDbGFzcyIsImRhdGEiLCJfZGF0YSR0eXBlIiwiX2RhdGEkdHJhbnNpdGlvblRpbWUiLCJfZGF0YSR0cmFuc2l0aW9uVHlwZSIsIl9kYXRhJG1lbnVEaXNwbGF5IiwiX2RhdGEkc2xpZGVCZWdpbiIsIl9kYXRhJHNsaWRlRW5kIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInR5cGUiLCJ0cmFuc2l0aW9uVGltZSIsInRyYW5zaXRpb25UeXBlIiwibWVudURpc3BsYXkiLCJzbGlkZUJlZ2luIiwic2xpZGVFbmQiLCJtZW51VHJpZ2dlclNlbGVjdG9yIiwibWVudVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsInN0YXRlIiwia2V5IiwidmFsdWUiLCJ0b2dnbGUiLCJiaW5kIiwiZG9jdW1lbnQiLCJtZW51VHJpZ2dlciIsIm1lbnUiLCJpc0NoYW5naW5nIiwic3R5bGUiLCJkaXNwbGF5IiwiaW5pdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiX3RoaXMiLCJvdmVyZmxvd1giLCJzZXRWZW5kb3JTdHlsZVByb3BlcnR5Iiwic2V0VGltZW91dCIsImNvbmNhdCIsImVsZW1lbnQiLCJwcm9wZXJ0eSIsIl9pIiwiX3ByZWZpeGVzIiwibGVuZ3RoIiwicHJlZml4IiwiX3RoaXMyIiwicHJlZml4ZXMiLCJjb250YWlucyIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm9wYWNpdHkiLCJhZGQiLCJoZWlnaHQiLCJ0cmFuc2Zvcm0iLCJpc0F0U3RhcnQiXSwibWFwcGluZ3MiOiJ1b0NBQUEsSUFDYUEsWUFBV0MsUUFBQUQsWUFBQSxXQU1oQixPQUFBRSxhQUpKLFNBQUFGLEVBQVlHLEdBQU0sSUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsZ0JBQUFDLEtBQUFYLEdBQ2RXLEtBQUtDLEtBQWdCLFFBQVpSLEVBQUdELEVBQUtT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QUFBbkIsS0FBQSxhQUFBLFdBQUFZLE9BQUFPLEVBQUFsQyxlQUFBLEtBQUEyQixPQUFBTyxFQUFBakMsaUJBQ1RnQixFQUFLRixLQUFDd0IsTUFBVUUsT0FBRyxVQUN4QnpCLEVBQVVELEtBQUdFLE1BQUlzQixRQUFBLElBQ3RCTCxFQUFBbEIsWUFBQSxHQUNKLEdBTWlCLFVBQWJsQixLQUFLVSxNQUFjVixLQUFBa0IsYUFDSEUsS0FBT0gsS0FBT0UsTUFBQ2YsWUFBV0osS0FBQUssWUFHakNZLEtBQUtFLFlBQVlvQixVQUFHRCxTQUFTLFdBQzdCckIsS0FBS0UsWUFBYW9CLFVBQU1HLElBQUEsZ0JBRTVCMUMsS0FBQTJCLHVCQUFBM0IsS0FBQWlCLEtBQUEsWUFBQWpCLEtBQUFNLFVBQ0xOLEtBQUFpQixLQUFBRSxNQUFBeUIsVUFBQTVDLEtBQUFNLFdBRVJOLEtBQUFnQixZQUFBdUIsVUFBQUQsU0FBQSxXQUVhdEMsS0FBS2dCLFlBQVl1QixVQUFLckIsT0FBWSxnQkFHdkMyQixLQUFTbEIsdUJBQUUzQixLQUFBaUIsS0FBQSxZQUFBakIsS0FBQUssWUFDUEwsS0FBS2dCLEtBQUFBLE1BQVl1QixVQUFVRCxLQUFRakMsaUJBeEYvQiIsImZpbGUiOiJsaWJzL2J1cmdlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vINCa0LvQsNGB0YEg0LzQtdC90Y4g0LHRg9GA0LPQtdGA0LBcbmV4cG9ydCBjbGFzcyBNZW51VG9nZ2xlciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB0aGlzLnR5cGUgPSBkYXRhLnR5cGUgPz8gJ2FwcGVhcic7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRpbWUgPSBkYXRhLnRyYW5zaXRpb25UaW1lID8/ICcuMjVzJztcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uVHlwZSA9IGRhdGEudHJhbnNpdGlvblR5cGUgPz8gJy5lYXNlJztcbiAgICAgICAgdGhpcy5tZW51RGlzcGxheSA9IGRhdGEubWVudURpc3BsYXkgPz8gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5zbGlkZUJlZ2luID0gZGF0YS5zbGlkZUJlZ2luID8/ICd0cmFuc2xhdGUoLTEwMCUsIDBweCknO1xuICAgICAgICB0aGlzLnNsaWRlRW5kID0gZGF0YS5zbGlkZUVuZCA/PyAndHJhbnNsYXRlKDBweCwgMHB4KSc7XG4gICAgICAgIHRoaXMubWVudVRyaWdnZXJTZWxlY3RvciA9IGRhdGEubWVudVRyaWdnZXJTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5tZW51U2VsZWN0b3IgPSBkYXRhLm1lbnVTZWxlY3RvcjtcblxuICAgICAgICB0aGlzLm1lbnVUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm1lbnVUcmlnZ2VyU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLm1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMubWVudVNlbGVjdG9yKTtcblxuICAgICAgICB0aGlzLmlzQ2hhbmdpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdoaWRlJztcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLm1lbnVUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2FwcGVhcicpIHtcbiAgICAgICAgICAgIHRoaXMubWVudS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHRoaXMubWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICB0aGlzLm1lbnUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm1lbnUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYW5naW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnaGlkZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnc2xpZGUnKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgdGhpcy5zZXRWZW5kb3JTdHlsZVByb3BlcnR5KHRoaXMubWVudSwgJ3RyYW5zZm9ybScsIHRoaXMuc2xpZGVCZWdpbik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZlbmRvclN0eWxlUHJvcGVydHkodGhpcy5tZW51LCAndHJhbnNpdGlvbicsIGB0cmFuc2Zvcm0gJHt0aGlzLnRyYW5zaXRpb25UaW1lfSAke3RoaXMudHJhbnNpdGlvblR5cGV9YCk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFZlbmRvclN0eWxlUHJvcGVydHkoZWxlbWVudCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeGVzID0gWyd3ZWJraXQnLCAnbW96JywgJ21zJywgJ28nXTtcbiAgICAgICAgZm9yIChjb25zdCBwcmVmaXggb2YgcHJlZml4ZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbYCR7cHJlZml4fSR7cHJvcGVydHl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHRvZ2dsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2FwcGVhcicgJiYgIXRoaXMuaXNDaGFuZ2luZykge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVudS5zdHlsZS5vcGFjaXR5ID09PSAnMScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZlbmRvclN0eWxlUHJvcGVydHkodGhpcy5tZW51LCAndHJhbnNpdGlvbicsIGBvcGFjaXR5ICR7dGhpcy50cmFuc2l0aW9uVGltZX0gJHt0aGlzLnRyYW5zaXRpb25UeXBlfWApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lbnVUcmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygnYnVyZ2VyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51VHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXJfY2xvc2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdoaWRlJztcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnUuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhbmdpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubWVudS5zdHlsZS5vcGFjaXR5ID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZW51VHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ2J1cmdlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVudVRyaWdnZXIuY2xhc3NMaXN0LmFkZCgnYnVyZ2VyX2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnc2hvdyc7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW51LnN0eWxlLmRpc3BsYXkgPSB0aGlzLm1lbnVEaXNwbGF5O1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZlbmRvclN0eWxlUHJvcGVydHkodGhpcy5tZW51LCAndHJhbnNpdGlvbicsIGBvcGFjaXR5ICR7dGhpcy50cmFuc2l0aW9uVGltZX0gJHt0aGlzLnRyYW5zaXRpb25UeXBlfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnUuc3R5bGUuaGVpZ2h0ID0gJ2luaXRpYWwnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnUuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYW5naW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnc2xpZGUnICYmICF0aGlzLmlzQ2hhbmdpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRTdGFydCA9IHRoaXMubWVudS5zdHlsZS50cmFuc2Zvcm0gPT09IHRoaXMuc2xpZGVCZWdpbjtcblxuICAgICAgICAgICAgaWYgKGlzQXRTdGFydCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lbnVUcmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygnYnVyZ2VyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51VHJpZ2dlci5jbGFzc0xpc3QuYWRkKCdidXJnZXJfY2xvc2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWZW5kb3JTdHlsZVByb3BlcnR5KHRoaXMubWVudSwgJ3RyYW5zZm9ybScsIHRoaXMuc2xpZGVFbmQpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVudS5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLnNsaWRlRW5kO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZW51VHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ2J1cmdlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVudVRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgnYnVyZ2VyX2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmVuZG9yU3R5bGVQcm9wZXJ0eSh0aGlzLm1lbnUsICd0cmFuc2Zvcm0nLCB0aGlzLnNsaWRlQmVnaW4pO1xuICAgICAgICAgICAgICAgIHRoaXMubWVudS5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLnNsaWRlQmVnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
