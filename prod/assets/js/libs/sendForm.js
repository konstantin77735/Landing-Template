document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".footer-form .form");console.log(e);var o=/^\+?[78][-\(]?\d{3}\)?-?\d{3}-?\d{2}-?\d{2}$/,t=new Popup({targetSelector:".popup-trigger",overlaySelector:".popup",windowSelector:".popup__window",closeBtnSelector:".popup__close",displayPopup:"flex",popupHeight:"100vh",popupWidth:"100%",disappearingTime:600,disappearingType:"linear",slidingTime:500,slidingType:"linear",slidingDir:"top",closeOnMiss:!0,closeOnKeys:"27, 67, 88"});e.addEventListener("submit",function(e){e.preventDefault();var n=document.querySelector(".footer-form__input_name").value.trim(),r=document.querySelector(".footer-form__input_phone").value.trim(),p=document.querySelector(".footer-form__input_textarea").value.trim();console.log(s);var i,u={name:n,tel:r,description:p,toString:function(){return"name=".concat(this.name,"&tel=").concat(this.tel,"&description=").concat(this.description)}}.toString();if(""!=n&&""!=r&&""!=p&&o.test(r)){console.log("inputPhoneValue: ".concat(r));return t.appearance("Ваши данные успешно отправлены!"),(i=u,void 0===i&&(i=null),new Promise(function(e,o){var t=new XMLHttpRequest;t.open("POST","/amoapi_landing/script.php"),t.responseType="json",t.setRequestHeader("Content-Type","application/json"),t.onerror=function(){console.log(t.response)},t.onload=function(){t.status>=400?o(t.response):e(t.response)},t.send(i)})).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),document.querySelector(".footer-form__input_name").value="",document.querySelector(".footer-form__input_phone").value="",document.querySelector(".footer-form__input_textarea").value="",e.preventDefault(),!1}return t.appearance("Заполните все поля!"),e.preventDefault(),!1})});