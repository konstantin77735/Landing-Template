import{MenuToggler}from"./libs/burger.js";document.addEventListener("DOMContentLoaded",()=>{const e={center:{title:["Центр"],coords:{x:43.061455350230425,y:44.66953525459858}},korpus_1:{title:"Корпус №1",desc:"Факультет информационных технологий и электронной техники",coords:{x:43.06139565493085,y:44.669789492573216}},korpus_2:{title:"Корпус №2",desc:"",coords:{x:43.061643998930855,y:44.66891522998607}},korpus_3:{title:"Корпус №3",desc:"",coords:{x:43.06202323245082,y:44.66961510700009}},korpus_4:{title:"Корпус №4",desc:"Архитектурно-строительный факультет",coords:{x:43.06221145025253,y:44.67071183797464}},korpus_5:{title:"Корпус №5",desc:"Горно-металлургический факультет, Электромеханический факультет",coords:{x:43.06112751490838,y:44.67142657185194}},korpus_6:{title:"Корпус №6",desc:"",coords:{x:43.06237403154492,y:44.669102510919856}},korpus_7:{title:"Корпус №7",desc:"",coords:{x:43.05948274214029,y:44.66739946839369}},korpus_8:{title:"Корпус №8",desc:"Бассейн",coords:{x:43.06007094333707,y:44.67057752997233}},korpus_9:{title:"Корпус №9",desc:"",coords:{x:43.05948874835102,y:44.67056959131899}},korpus_10:{title:"Корпус №10",desc:"",coords:{x:43.061179966527384,y:44.669141249849524}},korpus_11:{title:"Корпус №11",desc:"",coords:{x:43.060181752607555,y:44.66847034580062}},korpus_12:{title:"Корпус №12",desc:"Профилакторий",coords:{x:43.060813376997366,y:44.667822892594586}},korpus_13_1:{title:"Корпус №13",desc:"",coords:{x:43.06281422770834,y:44.66858593063243}},korpus_13_2:{title:"Корпус №13",desc:"",coords:{x:43.06310832685171,y:44.66900482241877}},korpus_13_3:{title:"Корпус №13",desc:"",coords:{x:43.06329996334479,y:44.669093698317496}},korpus_13_4:{title:"Корпус №13",desc:"",coords:{x:43.06334152575264,y:44.668362034690624}},korpus_14:{title:"Корпус №14",desc:"",coords:{x:43.06187926790857,y:44.6715986315343}},korpus_15:{title:"Корпус №15",desc:"",coords:{x:43.0588038472945,y:44.67053964656243}},korpus_16:{title:"Корпус №16",desc:"",coords:{x:43.06127577304925,y:44.66750774000074}},korpus_17:{title:"Корпус №17",desc:"",coords:{x:43.06275626980573,y:44.66996162736089}},korpus_18:{title:"Корпус №18",desc:"НИИ",coords:{x:43.06235291285285,y:44.6717326045637}},korpus_19:{title:"Корпус №19",desc:"Дискоклуб",coords:{x:43.0612773402612,y:44.67024043840743}},korpus_20:{title:"Корпус №20",desc:"Лекционный",coords:{x:43.060706690156266,y:44.670763676427455}},korpus_21:{title:"Корпус №21",desc:"Юридический факультет",coords:{x:43.062469724427444,y:44.66984389045438}},stadion:{coords:{x:43.06029024614904,y:44.669529734335185}},eternalFire:{coords:{x:43.06128864899327,y:44.67050597709989}}};let o=[e.center.coords.x,e.center.coords.y];ymaps.ready(function(){const t=document.querySelector(".mobile-menu");let s=new ymaps.Map("map",{center:o,zoom:17,controls:["routePanelControl"]}),r=s.controls.get("routePanelControl");ymaps.geolocation.get().then(function(e){let o=e.geoObjects.get(0).properties.get("text");r.routePanel.state.set({type:"pedestrian",from:o})});for(let o in e){const c=e[o].title,l=e[o].desc;if(c&&c.includes("Корпус")){const n=Object.values(e[o].coords);let d=document.createElement("a");d.innerHTML=`${c}`,d.classList.add("mobile-menu__item"),d.setAttribute("href",`#${c}`),d.addEventListener("click",()=>{s.geoObjects.removeAll(),r.routePanel.state.set({type:"pedestrian",to:n});let e=new ymaps.Placemark(n,{balloonContent:`\n                                <div class="balloon">\n                                    <div class="balloon__title">${c}</div>\n                                    <div class="balloon__desc">${l}</div>\n                                    </div>\n                                </div>\n                                `},{iconImageHref:"assets/img/3map/marker.png"});s.geoObjects.add(e)}),t.append(d)}}const c=new MenuToggler({menuTriggerSelector:".burger",menuSelector:".mobile-menu",transitionTime:"0.5s",transitionType:"linear",menuDisplay:"flex",type:"appear"});t.querySelectorAll(".mobile-menu__item").forEach((e,o)=>{e.addEventListener("click",()=>{c.toggle()})}),r.routePanel.options.set({types:{masstransit:!1,pedestrian:!0,taxi:!1}}),s.controls.remove("geolocationControl"),s.controls.remove("searchControl"),s.controls.remove("trafficControl"),s.controls.remove("typeSelector"),s.controls.remove("rulerControl")})});